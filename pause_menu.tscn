[gd_scene load_steps=58 format=3 uid="uid://dmbbxjelft5mv"]

[ext_resource type="Texture2D" uid="uid://dise766nqts3d" path="res://sunny-land/assets/sprites/options.png" id="1_hdmo1"]
[ext_resource type="Theme" uid="uid://cnvsc1wesq0rr" path="res://resume_theme.tres" id="2_d3xb4"]
[ext_resource type="FontFile" uid="uid://bfgbx46b3ptly" path="res://RETRO_SPACE/RETRO_SPACE_INV.ttf" id="2_nwcfo"]
[ext_resource type="Texture2D" uid="uid://dqgqieysrg751" path="res://buttons/resume-btn.png" id="3_mxa3g"]
[ext_resource type="Texture2D" uid="uid://brpncabsha464" path="res://buttons/resume-btn-active.png" id="4_e8sti"]
[ext_resource type="Texture2D" uid="uid://jekyox0m62j4" path="res://buttons/resume-btn-hover.png" id="5_q2yj1"]
[ext_resource type="Theme" uid="uid://cgdj3wcewbaa8" path="res://settings_theme.tres" id="6_e8sti"]
[ext_resource type="Texture2D" uid="uid://c08dukdtkj6s0" path="res://buttons/settings-btn.png" id="7_q2yj1"]
[ext_resource type="Texture2D" uid="uid://bcqytidxigmc0" path="res://buttons/settings-btn-active.png" id="8_q2yj1"]
[ext_resource type="Texture2D" uid="uid://4ymbrx6gjq0k" path="res://buttons/settings-btn-hover.png" id="9_a32ks"]
[ext_resource type="Theme" uid="uid://lb08hy50gpwy" path="res://restart_theme.tres" id="10_7qvy3"]
[ext_resource type="Theme" uid="uid://cxqj4gd36eda" path="res://exit_theme.tres" id="10_lv42l"]
[ext_resource type="Texture2D" uid="uid://6ekusvccckt8" path="res://buttons/restart-btn.png" id="11_gxrhd"]
[ext_resource type="Texture2D" uid="uid://c7fhelewlr1v2" path="res://buttons/exit-btn.png" id="11_ub45p"]
[ext_resource type="Texture2D" uid="uid://ribykjgshnmm" path="res://buttons/exit-btn-active.png" id="12_42xcf"]
[ext_resource type="Texture2D" uid="uid://df1s074hxyxj8" path="res://buttons/restart-btn-active.png" id="12_gxrhd"]
[ext_resource type="Texture2D" uid="uid://b7gtjviw0yqs1" path="res://buttons/restart-btn-hover.png" id="12_y0te6"]
[ext_resource type="Texture2D" uid="uid://d34vxqtv13ynh" path="res://buttons/exit-btn-hover.png" id="13_1meuf"]
[ext_resource type="Theme" uid="uid://ciafrx7736guy" path="res://back_btn.tres" id="16_oasv2"]
[ext_resource type="PackedScene" uid="uid://dcufthl211jbm" path="res://volume_slider.tscn" id="17_fijrc"]
[ext_resource type="Texture2D" uid="uid://hgkjailjsobt" path="res://Additions/close.png" id="21_jpy7o"]
[ext_resource type="Theme" uid="uid://3wkx2utq7po7" path="res://yes_theme.tres" id="22_jpy7o"]
[ext_resource type="Texture2D" uid="uid://kgmwmjf8o0ei" path="res://buttons/yes-btn.png" id="23_dhsdr"]
[ext_resource type="Texture2D" uid="uid://cmp7dls5vkei2" path="res://buttons/yes-btn-active.png" id="24_wpuol"]
[ext_resource type="Texture2D" uid="uid://bq7w7gpx1x52g" path="res://buttons/yes-btn-hover.png" id="25_g8p0d"]
[ext_resource type="Theme" uid="uid://c7btqxpkckav0" path="res://no_theme.tres" id="26_fgo16"]
[ext_resource type="Texture2D" uid="uid://biywm346a7t47" path="res://buttons/no-btn.png" id="27_gb0yf"]
[ext_resource type="Texture2D" uid="uid://b7jw5sl7o41m7" path="res://buttons/no-btn-active.png" id="28_cyhcl"]
[ext_resource type="Texture2D" uid="uid://dhjx0ikn6vb0r" path="res://buttons/no-btn-hover.png" id="29_2aoyq"]

[sub_resource type="GDScript" id="GDScript_wyi4u"]
script/source = "extends CanvasLayer

@onready var main_buttons = $ColorRect  # Your main menu panel
@onready var settings_panel = $SettingsPanel  # Settings panel

# Main buttons to hide when settings opens
@onready var resume_button = $Resume
@onready var settings_button = $Settings
@onready var restart_button = $Restart
@onready var exit_button = $Exit
@onready var label1 = $Label
@onready var label2 = $Label2

# Confirm Buttons
@onready var confirm_buttons = $ConfirmOption
@onready var restart1 = $ConfirmOption/Label2
@onready var restart2 = $ConfirmOption/Label3

# Exit Confirm Buttons
@onready var confirm_exit_buttons = $ExitConfirm
@onready var exit1 = $ExitConfirm/Exit
@onready var exit2 = $ExitConfirm/Exit2

func _ready() -> void:
	visible = false
	get_tree().paused = false
	process_mode = Node.PROCESS_MODE_ALWAYS
	
	if has_node(\"Label\"):
		$Label.modulate = Color.BLACK
		$ConfirmOption/Label2.modulate = Color.BLACK
	
	# Hide settings panel initially
	if settings_panel:
		settings_panel.visible = false
	
	# Setup audio to work when paused
	unpause_audio()
	
	# Apply retro theme to settings sliders
	if settings_panel:
		apply_retro_theme()

func unpause_audio():
	if has_node(\"/root/AudioController\"):
		var audio = get_node(\"/root/AudioController\")
		audio.process_mode = Node.PROCESS_MODE_ALWAYS

func _input(event: InputEvent) -> void:
	if Input.is_action_just_pressed(\"ui_cancel\"):
		if get_tree().paused:
			# If settings is open, close it
			if settings_panel and settings_panel.visible:
				settings_panel.visible = false
				show_main_menu()
				AudioController.select_sound()
			# If confirm menu is open, close it
			elif confirm_buttons and confirm_buttons.visible:
				hide_confirm_menu()
				show_main_menu()
				AudioController.select_sound()
			# If exit confirmation is open, close it
			elif confirm_exit_buttons and confirm_exit_buttons.visible:
				show_main_menu()
				hide_exit_confirm()
				AudioController.select_sound()
			else:
				# Unpause game
				visible = false
				get_tree().paused = false
				AudioController.select_sound()
		else:
			# Pause game
			visible = true
			get_tree().paused = true
			# Show main menu, hide settings
			show_main_menu()
			AudioController.select_sound()
	
	if Input.is_action_just_pressed(\"ui_accept\"):
		if get_tree().paused:
			# PRIORITY 1: Check if confirm buttons are visible (restart confirmation)
			if confirm_buttons and confirm_buttons.visible:
				_on_yes_btn_pressed()
			# PRIORITY 1: Check if exit confirm buttons are visible (exit confirmation)
			elif confirm_exit_buttons and confirm_exit_buttons.visible:
				_on_confirm_exit_pressed()
			# PRIORITY 3: Check if settings panel is NOT open, then resume
			elif visible and not (settings_panel and settings_panel.visible):
				AudioController.select_sound()
				visible = false
				get_tree().paused = false

# === MAIN MENU BUTTONS ===
func _on_button_pressed() -> void:
	# Resume button
	visible = false
	get_tree().paused = false
	AudioController.select_sound()

func _on_settings_pressed() -> void:
	# Hide main menu buttons/labels
	hide_main_menu()
	
	# Show settings panel
	if settings_panel:
		settings_panel.visible = true
	
	AudioController.select_sound()

func _on_exit_pressed() -> void:
	hide_main_menu()
	show_exit_confirm()
	AudioController.select_sound()

# === SETTINGS PANEL ===
func _on_back_button_pressed() -> void:
	close_settings()
	AudioController.select_sound()

func close_settings():
	# Hide settings panel
	if settings_panel:
		settings_panel.visible = false
	
	# Show main menu buttons/labels again
	show_main_menu()

# === SHOW/HIDE FUNCTIONS ===
func hide_main_menu():
	# Hide all main menu elements
	main_buttons.visible = true
	resume_button.visible = false
	settings_button.visible = false
	restart_button.visible = false
	exit_button.visible = false
	label1.visible = false
	label2.visible = false
	confirm_buttons.visible = false

func show_main_menu():
	# Show all main menu elements
	main_buttons.visible = true
	resume_button.visible = true
	settings_button.visible = true
	restart_button.visible = true
	exit_button.visible = true
	label1.visible = true
	label2.visible = true
	confirm_buttons.visible = false
	confirm_exit_buttons.visible = false

func show_confirm_menu():
	main_buttons.visible = true
	resume_button.visible = false
	settings_button.visible = false
	restart_button.visible = false
	exit_button.visible = false
	label1.visible = false
	label2.visible = false
	restart1.visible = true
	restart2.visible = true
	confirm_buttons.visible = true		

func hide_confirm_menu():
	main_buttons.visible = true
	label1.visible = false
	label2.visible = false
	confirm_buttons.visible = false		
	
func show_exit_confirm():
	main_buttons.visible = true
	confirm_exit_buttons.visible = true
	exit1.visible = true
	exit2.visible = true
	
func hide_exit_confirm():
	confirm_exit_buttons.visible = false

# === RETRO THEME ===
func apply_retro_theme():
	var retro_colors = {
		\"Master\": Color(\"#FF6B35\"),
		\"Music\": Color(\"#F7B801\"),
		\"Sound_Effect\": Color(\"#07A0C3\")  # Changed from \"Sound-Effect\" to \"Sound_Effect\"
	}
	
	for child in settings_panel.get_children():
		if child is HSlider:
			var slider = child as HSlider
			var bus_color = retro_colors.get(slider.name, Color.WHITE)
			create_retro_slider_style(slider, bus_color)
			
			# Add percentage display
			add_percentage_display(slider, bus_color)
			
			# Style label
			var label = settings_panel.get_node_or_null(slider.name.replace(\"-\", \"_\") + \"_label\")
			if label is Label:
				style_retro_label(label, bus_color)
			
			# Connect slider signals
			slider.value_changed.connect(func(value): 
				update_slider_percentage(slider, value)
			)
			
			# Play hurt sound when Sound_Effect slider is released (smoother experience)
			if slider.name == \"Sound_Effect\":  # Changed from \"Sound-Effect\" to \"Sound_Effect\"
				slider.drag_ended.connect(func(value_changed): 
					if value_changed:
						AudioController.play_player_hurt()
				)
				
func create_retro_slider_style(slider: HSlider, color: Color):
	var bg_style = StyleBoxFlat.new()
	bg_style.bg_color = Color(\"#1A1A2E\")
	bg_style.corner_radius_top_left = 8
	bg_style.corner_radius_top_right = 8
	bg_style.corner_radius_bottom_left = 8
	bg_style.corner_radius_bottom_right = 8
	bg_style.border_color = color.darkened(0.5)
	bg_style.border_width_left = 3
	bg_style.border_width_right = 3
	bg_style.border_width_top = 3
	bg_style.border_width_bottom = 3
	bg_style.shadow_color = Color(0, 0, 0, 0.6)
	bg_style.shadow_size = 2
	
	var fill_style = StyleBoxFlat.new()
	fill_style.bg_color = color
	fill_style.corner_radius_top_left = 6
	fill_style.corner_radius_bottom_left = 6
	fill_style.border_width_top = 2
	fill_style.border_color = color.lightened(0.3)
	
	var handle_style = StyleBoxFlat.new()
	handle_style.bg_color = Color(\"#FFE66D\")
	handle_style.corner_radius_top_left = 999
	handle_style.corner_radius_top_right = 999
	handle_style.corner_radius_bottom_left = 999
	handle_style.corner_radius_bottom_right = 999
	handle_style.border_color = Color(\"#FF6B35\")
	handle_style.border_width_left = 2
	handle_style.border_width_right = 2
	handle_style.border_width_top = 2
	handle_style.border_width_bottom = 2
	handle_style.shadow_color = color.lightened(0.2)
	handle_style.shadow_size = 8
	
	var handle_highlight = StyleBoxFlat.new()
	handle_highlight.bg_color = Color(\"#FFF9DB\")
	handle_highlight.corner_radius_top_left = 999
	handle_highlight.corner_radius_top_right = 999
	handle_highlight.corner_radius_bottom_left = 999
	handle_highlight.corner_radius_bottom_right = 999
	handle_highlight.border_color = color
	handle_highlight.border_width_left = 4
	handle_highlight.border_width_right = 4
	handle_highlight.border_width_top = 4
	handle_highlight.border_width_bottom = 4
	handle_highlight.shadow_color = color
	handle_highlight.shadow_size = 20
	
	slider.add_theme_stylebox_override(\"slider\", bg_style)
	slider.add_theme_stylebox_override(\"grabber_area\", bg_style)
	slider.add_theme_stylebox_override(\"grabber_area_highlight\", fill_style)
	slider.add_theme_stylebox_override(\"grabber\", handle_style)
	slider.add_theme_stylebox_override(\"grabber_highlight\", handle_highlight)
	
	# Make slider taller for better handle visibility
	slider.custom_minimum_size.y = 30

func add_percentage_display(slider: HSlider, color: Color):
	# Create container for percentage (will be positioned above the handle)
	var percentage_container = Control.new()
	percentage_container.name = \"PercentageContainer\"
	percentage_container.mouse_filter = Control.MOUSE_FILTER_IGNORE
	slider.add_child(percentage_container)
	
	# Create percentage label
	var percentage_label = Label.new()
	percentage_label.name = \"PercentageLabel\"
	percentage_label.text = str(int(slider.value * 100)) + \"%\"
	percentage_label.horizontal_alignment = HORIZONTAL_ALIGNMENT_CENTER
	percentage_label.vertical_alignment = VERTICAL_ALIGNMENT_CENTER
	percentage_label.mouse_filter = Control.MOUSE_FILTER_IGNORE
	
	# Retro styling for percentage
	percentage_label.add_theme_color_override(\"font_color\", Color(\"#2D1B00\"))  # Dark brown
	percentage_label.add_theme_font_size_override(\"font_size\", 12)
	percentage_label.add_theme_constant_override(\"outline_size\", 1)
	percentage_label.add_theme_color_override(\"font_outline_color\", Color.WHITE)
	
	# Make it bold and pixelated
	percentage_label.add_theme_constant_override(\"shadow_offset_x\", 1)
	percentage_label.add_theme_constant_override(\"shadow_offset_y\", 1)
	percentage_label.add_theme_color_override(\"font_shadow_color\", Color(1, 1, 1, 0.5))
	
	percentage_container.add_child(percentage_label)
	
	# Store references
	slider.set_meta(\"percentage_container\", percentage_container)
	slider.set_meta(\"percentage_label\", percentage_label)
	
	# Set initial position
	update_percentage_position(slider, slider.value)
	
	# Connect mouse events for highlighting
	slider.mouse_entered.connect(func(): highlight_percentage(slider))
	slider.mouse_exited.connect(func(): unhighlight_percentage(slider))

func update_percentage_position(slider: HSlider, value: float):
	var percentage_container = slider.get_meta(\"percentage_container\", null)
	var percentage_label = slider.get_meta(\"percentage_label\", null)
	
	if percentage_container and percentage_label:
		# Calculate position on slider (moves with handle)
		var slider_width = slider.size.x
		if slider_width == 0:  # If slider hasn't been sized yet
			slider_width = 200  # Default width
		
		# Calculate handle position (0-1 range)
		var ratio = (value - slider.min_value) / (slider.max_value - slider.min_value)
		var handle_position = ratio * (slider_width - 30)  # Account for handle width
		
		# Position above the handle
		percentage_container.position = Vector2(handle_position - 15, -15)
		percentage_label.text = str(int(value * 100)) + \"%\"
		
		# Change color based on volume level
		if value < 0.1:
			percentage_label.add_theme_color_override(\"font_color\", Color(\"#666666\"))
		elif value < 0.5:
			percentage_label.add_theme_color_override(\"font_color\", Color(\"#2D1B00\"))
		else:
			percentage_label.add_theme_color_override(\"font_color\", Color(\"#FF6B35\"))

func update_slider_percentage(slider: HSlider, value: float):
	var percentage_label = slider.get_meta(\"percentage_label\", null)
	if percentage_label:
		percentage_label.text = str(int(value * 100)) + \"%\"
		update_percentage_position(slider, value)
		
		# Pulse animation when changing
		var tween = create_tween()
		tween.tween_property(percentage_label, \"scale\", Vector2(1.2, 1.2), 0.1)
		tween.tween_property(percentage_label, \"scale\", Vector2(1.0, 1.0), 0.1)

func highlight_percentage(slider: HSlider):
	var percentage_label = slider.get_meta(\"percentage_label\", null)
	if percentage_label:
		percentage_label.add_theme_color_override(\"font_color\", Color.WHITE)
		percentage_label.add_theme_color_override(\"font_outline_color\", Color(\"#FF6B35\"))
		
		# Add shine effect
		var tween = create_tween()
		tween.tween_property(percentage_label, \"modulate\", Color(1, 1, 1, 1), 0.2)

func unhighlight_percentage(slider: HSlider):
	var percentage_label = slider.get_meta(\"percentage_label\", null)
	if percentage_label:
		# Reset to original colors based on volume
		var value = slider.value
		if value < 0.1:
			percentage_label.add_theme_color_override(\"font_color\", Color(\"#666666\"))
		elif value < 0.5:
			percentage_label.add_theme_color_override(\"font_color\", Color(\"#2D1B00\"))
		else:
			percentage_label.add_theme_color_override(\"font_color\", Color(\"#FF6B35\"))
		
		percentage_label.add_theme_color_override(\"font_outline_color\", Color.WHITE)

func style_retro_label(label: Label, color: Color):
	# Retro text styling
	label.add_theme_color_override(\"font_color\", Color.WHITE)
	label.add_theme_font_size_override(\"font_size\", 22)
	
	# Thick retro outline matching slider color
	label.add_theme_constant_override(\"outline_size\", 3)
	label.add_theme_color_override(\"font_outline_color\", color.darkened(0.4))
	
	# Drop shadow for depth
	label.add_theme_constant_override(\"shadow_offset_x\", 2)
	label.add_theme_constant_override(\"shadow_offset_y\", 2)
	label.add_theme_color_override(\"font_shadow_color\", Color(0, 0, 0, 0.7))
	
	# Center align
	label.horizontal_alignment = HORIZONTAL_ALIGNMENT_CENTER

func _on_back_btn_pressed() -> void:
	settings_panel.visible = false
	show_main_menu()
	AudioController.select_sound()

func _on_restart_pressed() -> void:
	# Reset player HP back to max
	
	Game.playerHP = 3
	
	# Reset gold to what we had at level start (lose coins collected this level)
	if \"level_start_coins\" in Game:
		Game.gold = Game.level_start_coins
	
	# Restart the level
	show_confirm_menu()
	AudioController.select_sound()
	AudioController.stop_heart_beat()

func _on_resume_mouse_entered() -> void:
	AudioController.hover_button()

func _on_settings_mouse_entered() -> void:
	AudioController.hover_button()

func _on_restart_mouse_entered() -> void:
	AudioController.hover_button()
	
func _on_exit_mouse_entered() -> void:
	AudioController.hover_button()

func _on_back_btn_mouse_entered() -> void:
	AudioController.hover_button()

func _on_yes_btn_pressed() -> void:
	get_tree().change_scene_to_file(\"res://world.tscn\")
	AudioController.select_sound()
	AudioController.stop_music()
	AudioController.play_music()
	AudioController.stop_heart_beat()

func _on_yes_btn_mouse_entered() -> void:
	AudioController.hover_button()

func _on_no_btn_pressed() -> void:
	show_main_menu()
	AudioController.select_sound()

func _on_no_btn_mouse_entered() -> void:
	AudioController.hover_button()

func _on_confirm_exit_pressed() -> void:
	get_tree().paused = false
	get_tree().change_scene_to_file(\"res://main.tscn\")
	AudioController.select_sound()
	AudioController.stop_heart_beat()
	
func _on_confirm_exit_mouse_entered() -> void:
	AudioController.hover_button()

func _on_cancel_exit_pressed() -> void:
	show_main_menu()
	AudioController.select_sound()

func _on_cancel_exit_mouse_entered() -> void:
	AudioController.hover_button()
	
"

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_a32ks"]
texture = ExtResource("3_mxa3g")
region_rect = Rect2(3.5938263, 2.461502, 216.03166, 55.760384)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_g7dbl"]
texture = ExtResource("4_e8sti")
region_rect = Rect2(3.080635, 2.0995874, 217.28546, 57.09662)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_lv42l"]
texture = ExtResource("5_q2yj1")
region_rect = Rect2(4.11549, 3.036191, 214.60632, 55.000805)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_ub45p"]
texture = ExtResource("7_q2yj1")
region_rect = Rect2(4.0165405, 3.0406075, 214.7768, 54.621956)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_42xcf"]
texture = ExtResource("8_q2yj1")
region_rect = Rect2(3.0267181, 1.9568921, 216.5942, 56.67705)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_1meuf"]
texture = ExtResource("9_a32ks")
region_rect = Rect2(4.3473816, 3.1657324, 214.25812, 54.677055)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_oawai"]
texture = ExtResource("11_gxrhd")
region_rect = Rect2(4.0263443, 3.1057625, 214.58414, 54.82077)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_wumbf"]
texture = ExtResource("12_gxrhd")
region_rect = Rect2(3.0254402, 1.6189489, 217.09938, 57.770622)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_do3q5"]
texture = ExtResource("12_y0te6")
region_rect = Rect2(4.259079, 3.327711, 214.37852, 54.407204)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_0q2ao"]
texture = ExtResource("11_ub45p")
region_rect = Rect2(4.3774815, 3.2929945, 214.22382, 54.265614)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_oasv2"]
texture = ExtResource("12_42xcf")
region_rect = Rect2(3.3286667, 2.1727958, 216.25314, 56.83537)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_udgxo"]
texture = ExtResource("13_1meuf")
region_rect = Rect2(4.431838, 3.3510516, 214.26942, 54.51883)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_fijrc"]
texture = ExtResource("21_jpy7o")
region_rect = Rect2(117, 117, 266, 266)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_7qvy3"]
texture = ExtResource("21_jpy7o")
region_rect = Rect2(108.49349, 107.93615, 283.46524, 284.71228)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_gxrhd"]
texture = ExtResource("21_jpy7o")
region_rect = Rect2(117, 117, 266, 266)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_nwqid"]
texture = ExtResource("23_dhsdr")
region_rect = Rect2(4.5866175, 2.9176464, 214.29033, 54.83024)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_0uddq"]
texture = ExtResource("24_wpuol")
region_rect = Rect2(3.0665073, 1.9453669, 217.2809, 57.32886)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_ddjkl"]
texture = ExtResource("25_g8p0d")
region_rect = Rect2(4.715027, 3.3478775, 214.24695, 54.581818)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_a1nvj"]
texture = ExtResource("27_gb0yf")
region_rect = Rect2(4.8293743, 3.7307272, 213.36581, 53.427628)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_0n6sc"]
texture = ExtResource("28_cyhcl")
region_rect = Rect2(3.3874798, 2.328823, 215.99551, 56.103596)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_hrs7h"]
texture = ExtResource("29_2aoyq")
region_rect = Rect2(4.989751, 3.6213021, 213.29526, 53.682148)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_jpy7o"]
texture = ExtResource("23_dhsdr")
region_rect = Rect2(4.8088818, 3.8108392, 213.54526, 53.415497)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_dhsdr"]
texture = ExtResource("24_wpuol")
region_rect = Rect2(3.9774818, 2.844101, 215.21976, 55.104874)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_wpuol"]
texture = ExtResource("25_g8p0d")
region_rect = Rect2(4.6399765, 3.7390976, 213.8612, 53.56527)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_g8p0d"]
texture = ExtResource("27_gb0yf")
region_rect = Rect2(5, 4, 213, 53)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_fgo16"]
texture = ExtResource("28_cyhcl")
region_rect = Rect2(3.835886, 2.7336693, 215.58238, 55.698776)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_gb0yf"]
texture = ExtResource("29_2aoyq")
region_rect = Rect2(5, 4, 213, 53)

[node name="pause-menu" type="CanvasLayer"]
process_mode = 3
script = SubResource("GDScript_wyi4u")

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 1152.0
offset_bottom = 648.0
color = Color(0, 0, 0, 0.15686275)

[node name="Options" type="Sprite2D" parent="."]
position = Vector2(576, 316)
scale = Vector2(2.476191, 2.3333333)
texture = ExtResource("1_hdmo1")

[node name="Resume" type="Button" parent="."]
visible = false
offset_left = 416.0
offset_top = 264.0
offset_right = 568.0
offset_bottom = 312.0
theme = ExtResource("2_d3xb4")
theme_override_font_sizes/font_size = 24
theme_override_styles/normal = SubResource("StyleBoxTexture_a32ks")
theme_override_styles/pressed = SubResource("StyleBoxTexture_g7dbl")
theme_override_styles/hover = SubResource("StyleBoxTexture_lv42l")

[node name="Settings" type="Button" parent="."]
visible = false
offset_left = 584.0
offset_top = 264.0
offset_right = 736.0
offset_bottom = 312.0
theme = ExtResource("6_e8sti")
theme_override_font_sizes/font_size = 24
theme_override_styles/normal = SubResource("StyleBoxTexture_ub45p")
theme_override_styles/pressed = SubResource("StyleBoxTexture_42xcf")
theme_override_styles/hover = SubResource("StyleBoxTexture_1meuf")

[node name="Restart" type="Button" parent="."]
visible = false
offset_left = 416.0
offset_top = 328.0
offset_right = 567.6667
offset_bottom = 376.0
theme = ExtResource("10_7qvy3")
theme_override_styles/normal = SubResource("StyleBoxTexture_oawai")
theme_override_styles/pressed = SubResource("StyleBoxTexture_wumbf")
theme_override_styles/hover = SubResource("StyleBoxTexture_do3q5")

[node name="Exit" type="Button" parent="."]
visible = false
offset_left = 584.0
offset_top = 328.0
offset_right = 736.0
offset_bottom = 376.0
theme = ExtResource("10_lv42l")
theme_override_font_sizes/font_size = 24
theme_override_styles/normal = SubResource("StyleBoxTexture_0q2ao")
theme_override_styles/pressed = SubResource("StyleBoxTexture_oasv2")
theme_override_styles/hover = SubResource("StyleBoxTexture_udgxo")
text = "
"

[node name="Label" type="Label" parent="."]
visible = false
offset_left = 496.0
offset_top = 160.0
offset_right = 646.0
offset_bottom = 195.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Paused"

[node name="Label2" type="Label" parent="."]
visible = false
offset_left = 498.0
offset_top = 161.0
offset_right = 648.0
offset_bottom = 196.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Paused"

[node name="SettingsPanel" type="Panel" parent="."]
visible = false
self_modulate = Color(1, 1, 1, 0)
offset_left = 384.0
offset_top = 192.0
offset_right = 768.0
offset_bottom = 440.0

[node name="master_label" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 112.0
offset_top = 32.0
offset_right = 280.0
offset_bottom = 55.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 20
text = "Master Volume"

[node name="music_label" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 120.0
offset_top = 96.0
offset_right = 271.0
offset_bottom = 119.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 20
text = "Music Volume"

[node name="sound_effect_label" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 80.0
offset_top = 160.0
offset_right = 319.0
offset_bottom = 183.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 20
text = "Sound Effect Volume"

[node name="Master" parent="SettingsPanel" instance=ExtResource("17_fijrc")]
layout_mode = 0
offset_left = 48.0
offset_top = 64.0
offset_right = 336.0
offset_bottom = 80.0
bus_name = "Master"

[node name="Music" parent="SettingsPanel" instance=ExtResource("17_fijrc")]
layout_mode = 0
offset_left = 48.0
offset_top = 128.0
offset_right = 336.0
offset_bottom = 144.0
bus_name = "Music"

[node name="Sound_Effect" parent="SettingsPanel" instance=ExtResource("17_fijrc")]
layout_mode = 0
offset_left = 48.0
offset_top = 192.0
offset_right = 336.0
offset_bottom = 208.0
bus_name = "Sound Effects"

[node name="BackBtn" type="Button" parent="SettingsPanel"]
layout_mode = 0
offset_left = 352.0
offset_top = 32.0
offset_right = 368.0
offset_bottom = 48.0
theme = ExtResource("16_oasv2")
theme_override_styles/normal = SubResource("StyleBoxTexture_fijrc")
theme_override_styles/pressed = SubResource("StyleBoxTexture_7qvy3")
theme_override_styles/hover = SubResource("StyleBoxTexture_gxrhd")

[node name="Label" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 88.0
offset_top = -32.0
offset_right = 288.0
offset_bottom = 3.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "settings"

[node name="Label2" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 90.0
offset_top = -31.0
offset_right = 290.0
offset_bottom = 4.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Settings"

[node name="ConfirmOption" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="YesBtn" type="Button" parent="ConfirmOption"]
layout_mode = 0
offset_left = 408.0
offset_top = 336.0
offset_right = 552.0
offset_bottom = 376.0
theme = ExtResource("22_jpy7o")
theme_override_styles/normal = SubResource("StyleBoxTexture_nwqid")
theme_override_styles/pressed = SubResource("StyleBoxTexture_0uddq")
theme_override_styles/hover = SubResource("StyleBoxTexture_ddjkl")

[node name="NoBtn" type="Button" parent="ConfirmOption"]
layout_mode = 0
offset_left = 592.0
offset_top = 336.0
offset_right = 736.0
offset_bottom = 376.0
theme = ExtResource("26_fgo16")
theme_override_styles/normal = SubResource("StyleBoxTexture_a1nvj")
theme_override_styles/pressed = SubResource("StyleBoxTexture_0n6sc")
theme_override_styles/hover = SubResource("StyleBoxTexture_hrs7h")

[node name="Label" type="Label" parent="ConfirmOption"]
layout_mode = 0
offset_left = 408.0
offset_top = 248.0
offset_right = 738.0
offset_bottom = 297.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 16
text = "Are you sure you want to restart 
the game? You will lose all your 
progress in this level"

[node name="Label2" type="Label" parent="ConfirmOption"]
layout_mode = 0
offset_left = 472.0
offset_top = 160.0
offset_right = 672.0
offset_bottom = 195.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Settings"

[node name="Label3" type="Label" parent="ConfirmOption"]
layout_mode = 0
offset_left = 474.0
offset_top = 161.0
offset_right = 674.0
offset_bottom = 196.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Settings"

[node name="ExitConfirm" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="confirm_exit" type="Button" parent="ExitConfirm"]
layout_mode = 0
offset_left = 408.0
offset_top = 336.0
offset_right = 552.0
offset_bottom = 376.0
theme = ExtResource("22_jpy7o")
theme_override_styles/normal = SubResource("StyleBoxTexture_jpy7o")
theme_override_styles/pressed = SubResource("StyleBoxTexture_dhsdr")
theme_override_styles/hover = SubResource("StyleBoxTexture_wpuol")

[node name="cancel_exit" type="Button" parent="ExitConfirm"]
layout_mode = 0
offset_left = 592.0
offset_top = 336.0
offset_right = 736.0
offset_bottom = 376.0
theme = ExtResource("26_fgo16")
theme_override_styles/normal = SubResource("StyleBoxTexture_g8p0d")
theme_override_styles/pressed = SubResource("StyleBoxTexture_fgo16")
theme_override_styles/hover = SubResource("StyleBoxTexture_gb0yf")

[node name="LabelExit" type="Label" parent="ExitConfirm"]
layout_mode = 0
offset_left = 394.0
offset_top = 256.0
offset_right = 754.0
offset_bottom = 296.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 16
text = "Are you sure you want to exit? 
your progress will be saved anyways"

[node name="Exit" type="Label" parent="ExitConfirm"]
layout_mode = 0
offset_left = 520.0
offset_top = 160.0
offset_right = 632.0
offset_bottom = 195.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Exit"

[node name="Exit2" type="Label" parent="ExitConfirm"]
layout_mode = 0
offset_left = 522.0
offset_top = 161.0
offset_right = 632.0
offset_bottom = 196.0
theme_override_fonts/font = ExtResource("2_nwcfo")
theme_override_font_sizes/font_size = 40
text = "Exit"

[connection signal="mouse_entered" from="Resume" to="." method="_on_resume_mouse_entered"]
[connection signal="pressed" from="Resume" to="." method="_on_button_pressed"]
[connection signal="mouse_entered" from="Settings" to="." method="_on_settings_mouse_entered"]
[connection signal="pressed" from="Settings" to="." method="_on_settings_pressed"]
[connection signal="mouse_entered" from="Restart" to="." method="_on_restart_mouse_entered"]
[connection signal="pressed" from="Restart" to="." method="_on_restart_pressed"]
[connection signal="mouse_entered" from="Exit" to="." method="_on_exit_mouse_entered"]
[connection signal="pressed" from="Exit" to="." method="_on_exit_pressed"]
[connection signal="mouse_entered" from="SettingsPanel/BackBtn" to="." method="_on_back_btn_mouse_entered"]
[connection signal="pressed" from="SettingsPanel/BackBtn" to="." method="_on_back_btn_pressed"]
[connection signal="mouse_entered" from="ConfirmOption/YesBtn" to="." method="_on_yes_btn_mouse_entered"]
[connection signal="pressed" from="ConfirmOption/YesBtn" to="." method="_on_yes_btn_pressed"]
[connection signal="mouse_entered" from="ConfirmOption/NoBtn" to="." method="_on_no_btn_mouse_entered"]
[connection signal="pressed" from="ConfirmOption/NoBtn" to="." method="_on_no_btn_pressed"]
[connection signal="mouse_entered" from="ExitConfirm/confirm_exit" to="." method="_on_confirm_exit_mouse_entered"]
[connection signal="pressed" from="ExitConfirm/confirm_exit" to="." method="_on_confirm_exit_pressed"]
[connection signal="mouse_entered" from="ExitConfirm/cancel_exit" to="." method="_on_cancel_exit_mouse_entered"]
[connection signal="pressed" from="ExitConfirm/cancel_exit" to="." method="_on_cancel_exit_pressed"]
